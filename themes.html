<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-commerce Color Themes with Night Mode</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
            --background: 0 0% 100%;
            --foreground: 222.2 84% 4.9%;
            --card: 0 0% 100%;
            --card-foreground: 222.2 84% 4.9%;
            --popover: 0 0% 100%;
            --popover-foreground: 222.2 84% 4.9%;
            --primary: 221.2 83.2% 53.3%;
            --primary-foreground: 210 40% 98%;
            --secondary: 210 40% 96%;
            --secondary-foreground: 222.2 47.4% 11.2%;
            --muted: 210 40% 96%;
            --muted-foreground: 215.4 16.3% 46.9%;
            --accent: 210 40% 96%;
            --accent-foreground: 222.2 47.4% 11.2%;
            --destructive: 0 84.2% 60.2%;
            --destructive-foreground: 210 40% 98%;
            --border: 214.3 31.8% 91.4%;
            --input: 214.3 31.8% 91.4%;
            --ring: 221.2 83.2% 53.3%;
            --radius: 0.5rem;
        }

        /* Dark Mode Base */
        .dark {
            --background: 222.2 84% 4.9%;
            --foreground: 210 40% 98%;
            --card: 222.2 84% 4.9%;
            --card-foreground: 210 40% 98%;
            --popover: 222.2 84% 4.9%;
            --popover-foreground: 210 40% 98%;
            --primary: 210 40% 98%;
            --primary-foreground: 222.2 84% 4.9%;
            --secondary: 217.2 32.6% 17.5%;
            --secondary-foreground: 210 40% 98%;
            --muted: 217.2 32.6% 17.5%;
            --muted-foreground: 215 20.2% 65.1%;
            --accent: 217.2 32.6% 17.5%;
            --accent-foreground: 210 40% 98%;
            --destructive: 0 62.8% 30.6%;
            --destructive-foreground: 210 40% 98%;
            --border: 217.2 32.6% 17.5%;
            --input: 217.2 32.6% 17.5%;
            --ring: 212.7 26.8% 83.9%;
        }

        /* Professional Blue Theme */
        .theme-professional {
            --primary: 221.2 83.2% 53.3%;
            --ring: 221.2 83.2% 53.3%;
        }

        .theme-professional.dark {
            --primary: 217.2 91.2% 59.8%;
            --ring: 217.2 91.2% 59.8%;
        }

        /* Modern Green Theme */
        .theme-modern {
            --primary: 142.1 76.2% 36.3%;
            --ring: 142.1 76.2% 36.3%;
        }

        .theme-modern.dark {
            --primary: 142.1 70.6% 45.3%;
            --ring: 142.1 70.6% 45.3%;
        }

        /* Warm Orange Theme */
        .theme-warm {
            --primary: 24.6 95% 53.1%;
            --ring: 24.6 95% 53.1%;
        }

        .theme-warm.dark {
            --primary: 20.5 90.2% 48.2%;
            --ring: 20.5 90.2% 48.2%;
        }

        /* Purple Premium Theme */
        .theme-premium {
            --primary: 262.1 83.3% 57.8%;
            --ring: 262.1 83.3% 57.8%;
        }

        .theme-premium.dark {
            --primary: 263.4 70% 50.4%;
            --ring: 263.4 70% 50.4%;
        }

        /* Luxury Dark Theme */
        .theme-luxury {
            --primary: 217.2 91.2% 59.8%;
            --ring: 217.2 91.2% 59.8%;
        }

        .theme-luxury.dark {
            --primary: 217.2 91.2% 59.8%;
            --ring: 217.2 91.2% 59.8%;
        }

        /* Rose Gold Theme */
        .theme-rose {
            --primary: 346.8 77.2% 49.8%;
            --ring: 346.8 77.2% 49.8%;
        }

        .theme-rose.dark {
            --primary: 346.8 77.2% 49.8%;
            --ring: 346.8 77.2% 49.8%;
        }

        /* Teal Theme */
        .theme-teal {
            --primary: 173.4 80.4% 40%;
            --ring: 173.4 80.4% 40%;
        }

        .theme-teal.dark {
            --primary: 172.5 66% 50.4%;
            --ring: 172.5 66% 50.4%;
        }

        /* Violet Theme */
        .theme-violet {
            --primary: 262.1 83.3% 57.8%;
            --ring: 262.1 83.3% 57.8%;
        }

        .theme-violet.dark {
            --primary: 263.4 70% 50.4%;
            --ring: 263.4 70% 50.4%;
        }

        /* Utility Classes */
        .theme-card {
            background: hsl(var(--card));
            color: hsl(var(--card-foreground));
            border: 1px solid hsl(var(--border));
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .theme-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .dark .theme-card:hover {
            box-shadow: 0 4px 12px rgba(255, 255, 255, 0.1);
        }

        .theme-button {
            background: hsl(var(--primary));
            color: hsl(var(--primary-foreground));
            border: 1px solid hsl(var(--primary));
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .theme-button:hover {
            opacity: 0.9;
            transform: translateY(-1px);
        }

        .theme-button:active {
            transform: translateY(0);
        }

        .theme-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .theme-secondary {
            background: hsl(var(--secondary));
            color: hsl(var(--secondary-foreground));
            border: 1px solid hsl(var(--border));
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .theme-secondary:hover {
            opacity: 0.8;
        }

        .theme-muted {
            background: hsl(var(--muted));
            color: hsl(var(--muted-foreground));
        }

        .theme-input {
            background: hsl(var(--background));
            border: 1px solid hsl(var(--border));
            color: hsl(var(--foreground));
            transition: border-color 0.2s ease, box-shadow 0.2s ease;
        }

        .theme-input:focus {
            outline: none;
            border-color: hsl(var(--ring));
            box-shadow: 0 0 0 2px hsl(var(--ring) / 0.2);
        }

        .theme-destructive {
            background: hsl(var(--destructive));
            color: hsl(var(--destructive-foreground));
        }

        .theme-switch {
            transition: all 0.2s ease-in-out;
        }

        .theme-switch:hover {
            transform: translateY(-1px);
        }

        body {
            background: hsl(var(--background));
            color: hsl(var(--foreground));
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        /* Enhanced focus styles for accessibility */
        *:focus {
            outline: 2px solid hsl(var(--ring));
            outline-offset: 2px;
        }

        /* Smooth scrolling */
        html {
            scroll-behavior: smooth;
        }

        /* Loading state */
        .loading {
            opacity: 0.7;
            pointer-events: none;
        }

        /* Animation for theme switching */
        .theme-transition {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Responsive improvements */
        @media (max-width: 768px) {
            .theme-card {
                padding: 1rem;
            }

            .grid {
                gap: 1rem;
            }
        }

        /* Error state styling */
        .error {
            border-color: hsl(var(--destructive));
            background-color: hsl(var(--destructive) / 0.1);
        }

        /* Success state styling */
        .success {
            border-color: hsl(142.1 76.2% 36.3%);
            background-color: hsl(142.1 76.2% 36.3% / 0.1);
        }
    </style>
</head>

<body class="transition-colors duration-300">
    <div class="min-h-screen p-4 md:p-8">
        <div class="max-w-6xl mx-auto">
            <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4">
                <h1 class="text-3xl md:text-4xl font-bold">E-commerce Color Themes</h1>
                <div class="flex flex-col sm:flex-row gap-4 w-full md:w-auto">
                    <button onclick="toggleTheme()" class="theme-button px-4 py-2 rounded-lg font-medium theme-switch"
                        aria-label="Toggle dark mode">
                        <span id="theme-toggle-text">🌙 Dark Mode</span>
                    </button>
                    <select id="theme-selector" onchange="changeTheme()" class="theme-input px-4 py-2 rounded-lg"
                        aria-label="Select theme">
                        <option value="professional">Professional Blue</option>
                        <option value="modern">Modern Green</option>
                        <option value="warm">Warm Orange</option>
                        <option value="premium">Purple Premium</option>
                        <option value="luxury">Luxury Dark</option>
                        <option value="rose">Rose Gold</option>
                        <option value="teal">Teal</option>
                        <option value="violet">Violet</option>
                    </select>
                </div>
            </div>

            <!-- Theme Showcase Sections -->
            <div id="theme-showcase">
                <!-- Professional Blue Theme -->
                <section class="theme-card mb-12 p-6 md:p-8 rounded-lg" aria-labelledby="professional-theme">
                    <h2 id="professional-theme" class="text-2xl font-semibold mb-6">Professional Blue Theme</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6">
                        <div class="theme-card p-4 md:p-6 rounded-lg">
                            <h3 class="text-lg font-semibold mb-3">Product Card</h3>
                            <div class="w-full h-32 theme-muted rounded mb-3" aria-hidden="true"></div>
                            <p class="text-sm opacity-75 mb-2">Wireless Headphones</p>
                            <p class="font-semibold text-lg mb-3">$129.99</p>
                            <button class="theme-button w-full py-2 px-4 rounded font-medium add-to-cart-btn">
                                Add to Cart
                            </button>
                        </div>
                        <div class="theme-card p-4 md:p-6 rounded-lg">
                            <h3 class="text-lg font-semibold mb-3">User Profile</h3>
                            <div class="flex items-center mb-4">
                                <div class="w-12 h-12 theme-secondary rounded-full mr-3" aria-hidden="true"></div>
                                <div>
                                    <p class="font-medium">John Doe</p>
                                    <p class="text-sm opacity-75">Premium Customer</p>
                                </div>
                            </div>
                            <button class="theme-secondary w-full py-2 px-4 rounded font-medium">
                                Edit Profile
                            </button>
                        </div>
                        <div class="theme-card p-4 md:p-6 rounded-lg">
                            <h3 class="text-lg font-semibold mb-3">Order Status</h3>
                            <div class="space-y-2">
                                <div class="flex justify-between items-center">
                                    <span>Order #12345</span>
                                    <span class="theme-button px-2 py-1 rounded text-xs">Shipped</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span>Total</span>
                                    <span class="font-semibold">$89.97</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Modern Green Theme -->
                <section class="theme-card mb-12 p-6 md:p-8 rounded-lg" aria-labelledby="modern-theme">
                    <h2 id="modern-theme" class="text-2xl font-semibold mb-6">Modern Green Theme</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6">
                        <div class="theme-card p-4 md:p-6 rounded-lg">
                            <h3 class="text-lg font-semibold mb-3">Eco Product</h3>
                            <div class="w-full h-32 theme-muted rounded mb-3" aria-hidden="true"></div>
                            <p class="text-sm opacity-75 mb-2">Bamboo Water Bottle</p>
                            <p class="font-semibold text-lg mb-3">$24.99</p>
                            <button class="theme-button w-full py-2 px-4 rounded font-medium add-to-cart-btn">
                                Add to Cart
                            </button>
                        </div>
                        <div class="theme-card p-4 md:p-6 rounded-lg">
                            <h3 class="text-lg font-semibold mb-3">Success Message</h3>
                            <div class="theme-button p-3 rounded mb-3">
                                <p class="text-sm">✓ Order placed successfully!</p>
                            </div>
                            <button class="theme-secondary w-full py-2 px-4 rounded font-medium">
                                Track Order
                            </button>
                        </div>
                        <div class="theme-card p-4 md:p-6 rounded-lg">
                            <h3 class="text-lg font-semibold mb-3">Sustainability</h3>
                            <div class="space-y-2">
                                <div class="flex justify-between items-center">
                                    <span>Carbon Neutral</span>
                                    <span class="theme-button px-2 py-1 rounded text-xs">✓</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span>Recycled Packaging</span>
                                    <span class="theme-button px-2 py-1 rounded text-xs">✓</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Interactive Demo Section -->
                <section class="theme-card mb-12 p-6 md:p-8 rounded-lg" aria-labelledby="demo-section">
                    <h2 id="demo-section" class="text-2xl font-semibold mb-6">Interactive Demo</h2>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6">
                        <div class="theme-card p-4 md:p-6 rounded-lg">
                            <h3 class="text-lg font-semibold mb-4">Shopping Cart</h3>
                            <div class="space-y-3" id="cart-items">
                                <div class="flex justify-between items-center">
                                    <span>Wireless Headphones</span>
                                    <span class="font-semibold">$129.99</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span>Bamboo Water Bottle</span>
                                    <span class="font-semibold">$24.99</span>
                                </div>
                                <hr class="border-t border-opacity-30">
                                <div class="flex justify-between items-center font-semibold">
                                    <span>Total</span>
                                    <span id="cart-total">$154.98</span>
                                </div>
                            </div>
                            <button class="theme-button w-full py-3 px-4 rounded font-medium mt-4">
                                Proceed to Checkout
                            </button>
                        </div>
                        <div class="theme-card p-4 md:p-6 rounded-lg">
                            <h3 class="text-lg font-semibold mb-4">Newsletter Signup</h3>
                            <p class="text-sm opacity-75 mb-4">Stay updated with our latest offers and new arrivals!</p>
                            <form id="newsletter-form" class="space-y-3">
                                <input type="email" id="email-input" placeholder="Enter your email"
                                    class="theme-input w-full px-3 py-2 rounded" required aria-label="Email address">
                                <button type="submit" class="theme-button w-full py-2 px-4 rounded font-medium"
                                    id="subscribe-btn">
                                    Subscribe
                                </button>
                            </form>
                            <div class="mt-4 space-y-2">
                                <label class="flex items-center cursor-pointer">
                                    <input type="checkbox" class="mr-2" id="promo-checkbox">
                                    <span class="text-sm">I agree to receive promotional emails</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Footer -->
                <footer class="theme-card p-6 rounded-lg text-center" role="contentinfo">
                    <p class="text-sm opacity-75">© 2025 E-commerce Color Themes Demo. Built with modern web
                        technologies.</p>
                </footer>
            </div>
        </div>
    </div>

    <script>
        // State management
        let isDarkMode = false;
        let currentTheme = 'professional';
        let cartItems = [];
        let isLoading = false;

        // Theme management
        function toggleTheme() {
            if (isLoading) return;

            const body = document.body;
            const toggleText = document.getElementById('theme-toggle-text');

            try {
                if (isDarkMode) {
                    body.classList.remove('dark');
                    toggleText.textContent = '🌙 Dark Mode';
                    isDarkMode = false;
                } else {
                    body.classList.add('dark');
                    toggleText.textContent = '☀️ Light Mode';
                    isDarkMode = true;
                }

                // Save preference
                localStorage.setItem('darkMode', isDarkMode);
            } catch (error) {
                console.error('Error toggling theme:', error);
            }
        }

        function changeTheme() {
            if (isLoading) return;

            const selector = document.getElementById('theme-selector');
            const body = document.body;

            try {
                if (!selector || !selector.value) return;

                // Remove previous theme class
                body.classList.remove(`theme-${currentTheme}`);

                // Add new theme class
                currentTheme = selector.value;
                body.classList.add(`theme-${currentTheme}`);

                // Save preference
                localStorage.setItem('currentTheme', currentTheme);
            } catch (error) {
                console.error('Error changing theme:', error);
            }
        }

        // Cart functionality
        function addToCart(productName, price) {
            try {
                cartItems.push({ name: productName, price: price });
                updateCartDisplay();
                showNotification('Item added to cart!', 'success');
            } catch (error) {
                console.error('Error adding to cart:', error);
                showNotification('Error adding item to cart', 'error');
            }
        }

        function updateCartDisplay() {
            const cartItemsElement = document.getElementById('cart-items');
            const cartTotalElement = document.getElementById('cart-total');

            if (!cartItemsElement || !cartTotalElement) return;

            try {
                let total = 0;
                let itemsHtml = '';

                cartItems.forEach(item => {
                    const price = parseFloat(item.price.replace('$', ''));
                    total += price;
                    itemsHtml += `
                        <div class="flex justify-between items-center">
                            <span>${item.name}</span>
                            <span class="font-semibold">${item.price}</span>
                        </div>
                    `;
                });

                itemsHtml += `
                    <hr class="border-t border-opacity-30">
                    <div class="flex justify-between items-center font-semibold">
                        <span>Total</span>
                        <span>$${total.toFixed(2)}</span>
                    </div>
                `;

                cartItemsElement.innerHTML = itemsHtml;
            } catch (error) {
                console.error('Error updating cart display:', error);
            }
        }

        // Newsletter form handling
        function handleNewsletterSubmit(event) {
            event.preventDefault();

            const emailInput = document.getElementById('email-input');
            const subscribeBtn = document.getElementById('subscribe-btn');
            const promoCheckbox = document.getElementById('promo-checkbox');

            if (!emailInput || !subscribeBtn) return;

            try {
                const email = emailInput.value.trim();

                if (!email) {
                    showNotification('Please enter a valid email address', 'error');
                    return;
                }

                // Validate email format
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailRegex.test(email)) {
                    showNotification('Please enter a valid email address', 'error');
                    emailInput.classList.add('error');
                    return;
                }

                // Simulate API call
                subscribeBtn.disabled = true;
                subscribeBtn.textContent = 'Subscribing...';

                setTimeout(() => {
                    subscribeBtn.disabled = false;
                    subscribeBtn.textContent = 'Subscribe';
                    emailInput.value = '';
                    emailInput.classList.remove('error');
                    emailInput.classList.add('success');

                    showNotification('Successfully subscribed to newsletter!', 'success');

                    setTimeout(() => {
                        emailInput.classList.remove('success');
                    }, 3000);
                }, 2000);

            } catch (error) {
                console.error('Error handling newsletter submission:', error);
                showNotification('Error subscribing to newsletter', 'error');
                subscribeBtn.disabled = false;
                subscribeBtn.textContent = 'Subscribe';
            }
        }

        // Notification system
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `fixed top-4 right-4 px-4 py-2 rounded-lg font-medium z-50 transition-all duration-300 ${type === 'success' ? 'bg-green-500 text-white' :
                    type === 'error' ? 'bg-red-500 text-white' :
                        'theme-button'
                }`;
            notification.textContent = message;
            notification.style.transform = 'translateX(100%)';

            document.body.appendChild(notification);

            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
            }, 100);

            setTimeout(() => {
                notification.style.transform = 'translateX(100%)';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 3000);
        }

        // Load saved preferences
        function loadPreferences() {
            try {
                const savedDarkMode = localStorage.getItem('darkMode');
                const savedTheme = localStorage.getItem('currentTheme');

                if (savedDarkMode === 'true') {
                    isDarkMode = true;
                    document.body.classList.add('dark');
                    const toggleText = document.getElementById('theme-toggle-text');
                    if (toggleText) toggleText.textContent = '☀️ Light Mode';
                }

                if (savedTheme) {
                    currentTheme = savedTheme;
                    const selector = document.getElementById('theme-selector');
                    if (selector) selector.value = currentTheme;
                }
            } catch (error) {
                console.error('Error loading preferences:', error);
            }
        }

        // Initialize application
        function initializeApp() {
            try {
                // Load preferences
                loadPreferences();

                // Initialize theme
                document.body.classList.add(`theme-${currentTheme}`);

                // Add event listeners
                const newsletterForm = document.getElementById('newsletter-form');
                if (newsletterForm) {
                    newsletterForm.addEventListener('submit', handleNewsletterSubmit);
                }

                // Add click handlers for add to cart buttons
                document.addEventListener('click', function (e) {
                    if (e.target.classList.contains('add-to-cart-btn')) {
                        const productCard = e.target.closest('.theme-card');
                        if (productCard) {
                            const productName = productCard.querySelector('p:first-of-type')?.textContent || 'Unknown Product';
                            const price = productCard.querySelector('.font-semibold')?.textContent || '$0.00';

                            e.target.textContent = '✓ Added!';
                            e.target.style.opacity = '0.8';

                            setTimeout(() => {
                                e.target.textContent = 'Add to Cart';
                                e.target.style.opacity = '1';
                            }, 2000);

                            addToCart(productName, price);
                        }
                    }
                });

                // Keyboard navigation support
                document.addEventListener('keydown', function (e) {
                    if (e.key === 'Escape') {
                        // Close any open modals or reset forms
                        const emailInput = document.getElementById('email-input');
                        if (emailInput && emailInput.classList.contains('error')) {
                            emailInput.classList.remove('error');
                        }
                    }
                });

                console.log('Application initialized successfully');
            } catch (error) {
                console.error('Error initializing application:', error);
            }
        }

        // Initialize when DOM is ready
        document.addEventListener('DOMContentLoaded', initializeApp);

        // Handle page visibility changes
        document.addEventListener('visibilitychange', function () {
            if (document.visibilityState === 'visible') {
                // Refresh any time-sensitive data when page becomes visible
                console.log('Page became visible');
            }
        });

        // Handle errors gracefully
        window.addEventListener('error', function (event) {
            console.error('Global error:', event.error);
            showNotification('An error occurred. Please refresh the page.', 'error');
        });
    </script>
</body>

</html>